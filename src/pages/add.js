import React from 'react';
import { useRouter } from 'next/router';
import { useUser } from '../contexts/UserProvider';
import { Container, Row, Col, ButtonGroup, Button } from 'react-bootstrap';
import Head from 'next/head'
import AddItemForm from '../components/AddItemForm';
import styles from '../styles/AddItemForm.module.css';
import Link from 'next/link';

const AddItemPage = () => {
  const { user, loading, logout } = useUser();
  const router = useRouter();

  if (!loading && !user) {
    router.push('/login');
  }

  if (loading) {
    return <div>Loading...</div>;
  }

  return (<>
    <Head>
    <title>FloralFlow - Add Item Form</title>
    <meta name="description" content="Generated by create next app" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/favicon.ico" />
  </Head>
  <Container className={`${styles.main} py-5`}>     
      <Row className="justify-content-center">
        <Col xs={12} md={6} lg={4} className="text-center">
        {/*   <Logo /> */}
      <h1 className={`${styles.description} mt-3 mb-4`}><Link href="/dashboard" >Dashboard</Link></h1>
     
      <p className={styles.welcome}>Welcome, {user?.email}!</p>
      <AddItemForm /> 
      <ButtonGroup>
        <button type="submit" className={styles.input} onClick={logout}>Logout</button>   
      </ButtonGroup>
      </Col>
      </Row>
    </Container>
    
    </>);
};

export default AddItemPage;
